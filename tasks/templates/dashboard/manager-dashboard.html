{% extends 'dashboard/dashboard.html' %}
{% block title %}
  <title>Manger Dashboard</title>
{% endblock %}
{% block tasks %}
  {% comment %}Task Table{% endcomment %}
  <div class="bg-white rounded-xl shadow-sm mt-8">
    <div class="grid grid-cols-4 p-4 border-b border-gray-100 text-sm text-gray-500">
      <div>TASK TITLE</div>
      <div>PRIORITY</div>
      <div>TEAM</div>
      <div>CREATED AT</div>
    </div>

    {% comment %}Task Items{% endcomment %}
    {% for task in tasks %}
      <div class="divide-y divide-gray-500">
        <div class="grid grid-cols-4 p-4 gap-4 items-center">
          <div class="flex items-center gap-2">
            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
            <div>
              <a href="{% url 'task-details' task.id %}" class="block underline text-blue-400">{{ task.title }}</a>
              <div class="flex gap-2 mt-2">
                <a href="{% url 'update-task' task.id %}" class="px-1 py-1 bg-purple-500 rounded-lg text-white">Update</a>
                <form action="{% url 'delete-task' task.id %}" method="post">
                  {% csrf_token %}
                  <button type="submit" class="px-1 py-1 bg-red-500 rounded-lg text-white">Delete</button>
                </form>
              </div>
            </div>
          </div>
          <div>
            <span class="px-3 py-1 rounded-md bg-blue-100 text-blue-600 text-sm font-semibold">{{ task.detail.get_priority_display }}</span>
          </div>
          <div>
            <div class="flex -space-x-2">
              {% for user in task.assigned_to.all %}
                <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white uppercase">{{ user.first_name|slice:':1' }}</div>
              {% endfor %}
              {% comment %} <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">CA</div>
              <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">B</div> {% endcomment %}
            </div>
          </div>
          <div>
            <span class="text-gray-500">{{ task.created_at|timesince }}</span>
          </div>
        </div>
      </div>
    {% endfor %}
    {% comment %} <div class="divide-y divide-gray-500">
      <div class="grid grid-cols-4 p-4 gap-4 items-center">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
          <div>
            <span>Test Task</span>
          </div>
        </div>
        <div>
          <span class="px-3 py-1 rounded-md bg-gray-100 text-gray-600 text-sm font-semibold">Normal</span>
        </div>
        <div>
          <div class="flex -space-x-2">
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">JS</div>
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">CA</div>
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">B</div>
          </div>
        </div>
        <div>
          <span class="text-gray-500">9 months ago</span>
        </div>
      </div>
    </div>
    <div class="divide-y divide-gray-500">
      <div class="grid grid-cols-4 p-4 gap-4 items-center">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-orange-500 rounded-full"></div>
          <div>
            <span>Test Task</span>
          </div>
        </div>
        <div>
          <span class="px-3 py-1 rounded-md bg-red-100 text-red-600 text-sm font-semibold">High</span>
        </div>
        <div>
          <div class="flex -space-x-2">
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">JS</div>
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">CA</div>
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">EV</div>
            <div class="w-8 h-8 rounded-full bg-blue-500 flex justify-center items-center text-sm text-white border-2 border-white">B</div>
          </div>
        </div>
        <div>
          <span class="text-gray-500">10 months ago</span>
        </div>
      </div>
    </div> {% endcomment %}
  </div>
{% endblock %}
